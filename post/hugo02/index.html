<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 2.4.0">
  <meta name="generator" content="Hugo 0.52" />
  <meta name="author" content="Pan Feng">

  
  
  
  
    
  
  <meta name="description" content="Hugo 使用Go的 html/template 和 text/template. 详情请看Go docs. 基本语法 Basic Syntax 模板主要由 variables 和 functions组成，在 {{ }} 内中使用 访问变量 // 可以是当前作用域中已存在的变量 {{ .Title">

  
  <link rel="alternate" hreflang="en-us" href="panfeng0119.github.io/post/hugo02/">

  


  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7cMerriweather%7cRoboto&#43;Mono">
  

  <link rel="stylesheet" href="/panfeng0119.github.io/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-125636375-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="panfeng0119.github.io/index.xml" type="application/rss+xml" title="Pan Feng">
  <link rel="feed" href="panfeng0119.github.io/index.xml" type="application/rss+xml" title="Pan Feng">
  

  <link rel="manifest" href="/panfeng0119.github.io/site.webmanifest">
  <link rel="icon" type="image/png" href="/panfeng0119.github.io/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/panfeng0119.github.io/img/icon-192.png">

  <link rel="canonical" href="panfeng0119.github.io/post/hugo02/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Pan Feng">
  <meta property="og:url" content="panfeng0119.github.io/post/hugo02/">
  <meta property="og:title" content="Hugo 02 | Hugo 模板介绍 | Pan Feng">
  <meta property="og:description" content="Hugo 使用Go的 html/template 和 text/template. 详情请看Go docs. 基本语法 Basic Syntax 模板主要由 variables 和 functions组成，在 {{ }} 内中使用 访问变量 // 可以是当前作用域中已存在的变量 {{ .Title">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-09-28T23:59:00&#43;08:00">
  
  <meta property="article:modified_time" content="2018-12-04T08:50:32&#43;08:00">
  

  

  

  <title>Hugo 02 | Hugo 模板介绍 | Pan Feng</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/panfeng0119.github.io/">Pan Feng</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a href="/panfeng0119.github.io/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a href="/panfeng0119.github.io/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a href="/panfeng0119.github.io/#tags">
            
            <span>Tags</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a href="/panfeng0119.github.io/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a href="/panfeng0119.github.io/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a href="/panfeng0119.github.io/#search">
            
            <span>Search</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">Hugo 02 | Hugo 模板介绍</h1>

    

<div class="article-metadata">

  
  
  
  <div>
    
    <span itemscope itemprop="author" itemtype="http://schema.org/Person">
      <span itemprop="name">潘峰</span>
    </span>
    
  </div>
  

  <span class="article-date">
    
        Last updated on
    
    <meta content="2018-09-28 23:59:00 &#43;0800 CST" itemprop="datePublished">
    <time datetime="2018-12-04 08:50:32 &#43;0800 CST" itemprop="dateModified">
      Dec 4, 2018
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Pan Feng">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    6 min read
  </span>
  

  
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Hugo%2002%20%7c%20Hugo%20%e6%a8%a1%e6%9d%bf%e4%bb%8b%e7%bb%8d&amp;url=panfeng0119.github.io%2fpost%2fhugo02%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=panfeng0119.github.io%2fpost%2fhugo02%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=panfeng0119.github.io%2fpost%2fhugo02%2f&amp;title=Hugo%2002%20%7c%20Hugo%20%e6%a8%a1%e6%9d%bf%e4%bb%8b%e7%bb%8d"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=panfeng0119.github.io%2fpost%2fhugo02%2f&amp;title=Hugo%2002%20%7c%20Hugo%20%e6%a8%a1%e6%9d%bf%e4%bb%8b%e7%bb%8d"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Hugo%2002%20%7c%20Hugo%20%e6%a8%a1%e6%9d%bf%e4%bb%8b%e7%bb%8d&amp;body=panfeng0119.github.io%2fpost%2fhugo02%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


    <div class="article-style" itemprop="articleBody">
      

<p>Hugo 使用Go的 html/template 和 text/template. 详情请看<a href="http://golang.org/pkg/html/template/" target="_blank">Go docs</a>.</p>

<hr />

<h2 id="基本语法-basic-syntax"><strong>基本语法 Basic Syntax</strong></h2>

<p>模板主要由 <code>variables</code> 和 <code>functions</code>组成，在 <code>{{ }}</code> 内中使用</p>

<p>访问变量</p>

<pre><code>// 可以是当前作用域中已存在的变量
{{ .Title }}

// 或者自定义变量
{{ $address }}
</code></pre>

<p>函数参数用空格分割</p>

<pre><code>{{ FUNCTION ARG1 ARG2 .. }}

// 例如
{{ add 1 2 }}
</code></pre>

<p>方法调用</p>

<pre><code>// 方法和字段用&quot;.&quot;来访问
{{ .Params.bar }}
</code></pre>

<p>用括号组织</p>

<pre><code>{{ if or (isset .Params &quot;alt&quot;) (isset .Params &quot;caption&quot;) }} Caption {{ end }}
</code></pre>

<h2 id="变量"><strong>变量</strong></h2>

<p>每个Go Template都会获取一个data对象。而在Hugo中，每个Template都传递一个Page</p>

<p><code>.Title</code> 就是 <a href="https://gohugo.io/variables/page/" target="_blank"><code>Page</code></a> 变量中可访问的元素之一，通过 &ldquo;.&rdquo; 访问：</p>

<pre><code>&lt;title&gt;{{ .Title }}&lt;/title&gt;
</code></pre>

<p>变量赋值</p>

<pre><code>{{ $address := &quot;123 Main St.&quot; }}
{{ $address }}
</code></pre>

<p><em>下面的示例仅适用于 Hugov0.48 或更新的版本</em></p>

<p>在主页上打印“Var is Hugo Home”，在所有其他页面上打印“Var is Hugo Page”：</p>

<pre><code>{{ $var := &quot;Hugo Page&quot; }}
{{ if .IsHome }}
    {{ $var = &quot;Hugo Home&quot; }}
{{ end }}
Var is {{ $var }}
</code></pre>

<h2 id="函数"><strong>函数</strong></h2>

<p>Hugo Template 的<a href="https://gohugo.io/functions/" target="_blank">自带函数</a></p>

<p>新的函数需要编译后才能使用</p>

<p>Example 1: Adding Numbers</p>

<pre><code>{{ add 1 2 }}
&lt;!-- prints 3 --&gt;
</code></pre>

<p>Example 2: Comparing Numbers</p>

<pre><code>{{ lt 1 2 }}
&lt;!-- prints true (i.e., since 1 is less than 2) --&gt;
</code></pre>

<p>这两个示例都使用了 <a href="https://gohugo.io/functions/math/" target="_blank">math functions</a></p>

<h2 id="includes"><strong>Includes</strong></h2>

<p>模板的位置从 <code>layouts/</code> 目录开始</p>

<h2 id="partial-函数"><strong>Partial 函数</strong></h2>

<p>用来调用 partial templates</p>

<pre><code>// 使用方法
{{ partial &quot;&lt;PATH&gt;/&lt;PARTIAL&gt;.&lt;EXTENSION&gt;&quot; . }}

// 例如:  调用 layouts/partials/header.html partial
{{ partial &quot;header.html&quot; . }}
</code></pre>

<h2 id="template-函数"><strong>Template 函数</strong></h2>

<p>仅用于调用 <a href="https://gohugo.io/templates/internal/" target="_blank">internal templates</a></p>

<p>可用模板在<a href="https://github.com/gohugoio/hugo/tree/master/tpl/tplimpl/embedded/templates" target="_blank">这里</a>找</p>

<pre><code>// 语法为
{{template“_internal / &lt;TEMPLATE&gt;.&lt;EXTENSION&gt;”. }}

// 例如： 调用 internal opengraph.html template:
{{ template &quot;_internal/opengraph.html&quot; . }}
</code></pre>

<h2 id="逻辑"><strong>逻辑</strong></h2>

<pre><code>// Example 1: Using Context (.) 
{{ range $array }}
    {{ . }} &lt;!--  . 表示 $array 中的一个元素 --&gt;
{{ end }}

// Example 2: 给元素声明一个变量名
{{ range $elem_val := $array }}
    {{ $elem_val }}
{{ end }}

// Example 3: array 和 slice 的索引和变量
{{ range $elem_index, $elem_val := $array }}
   {{ $elem_index }} -- {{ $elem_val }}
{{ end }}
// Example 4: map 的 key 和 value
{{ range $elem_key, $elem_val := $map }}
   {{ $elem_key }} -- {{ $elem_val }}
{{ end }}
</code></pre>

<h2 id="条件语句"><strong>条件语句</strong></h2>

<p>每个语句用 <code>{{ end }}</code> 结束</p>

<p>可以用到的关键字：<code>if</code>, <code>else</code>, <code>with</code>, <code>or</code>, <code>and</code>, <code>range</code></p>

<p>作为 false 的值可以是：</p>

<ul>
<li>false (boolean)</li>
<li>0 (integer)</li>
<li>任何 zero-length array, slice, map, 或者 string</li>
</ul>

<h3 id="example-1-with">Example 1: with</h3>

<p>功能：如果变量存在，则&hellip;</p>

<pre><code>// 如果变量不存在，或判定为 false 则跳过
{{ with .Params.title }}
    &lt;h4&gt;{{ . }}&lt;/h4&gt;
{{ end }}
</code></pre>

<h3 id="example-2-with-else">Example 2: with .. else</h3>

<p>如果设置了参数 <code>“description”</code> 的值，执行<code>.</code>命令</p>

<p>否则使用<code>.Summary</code>的变量值</p>

<pre><code>{{ with .Param &quot;description&quot; }}
    {{ . }}
{{ else }}
    {{ .Summary }}
{{ end }}
</code></pre>

<h3 id="example-3-if">Example 3: if</h3>

<p>一种更长（冗余）的写法是用if，下面给出Example1重写的代码</p>

<pre><code>{{ if isset .Params &quot;title&quot; }}
    &lt;h4&gt;{{ index .Params &quot;title&quot; }}&lt;/h4&gt;
{{ end }}
</code></pre>

<h3 id="example-4-if-else">Example 4: if .. else</h3>

<p>Below example is “Example 2” rewritten using if .. else, and using isset function + .Params variable (different from the .Param function) instead:</p>

<pre><code>{{ if (isset .Params &quot;description&quot;) }}
    {{ index .Params &quot;description&quot; }}
{{ else }}
    {{ .Summary }}
{{ end }}
</code></pre>

<p>Example 5: if .. else if .. else
Unlike with, if can contain else if clauses too.</p>

<pre><code>{{ if (isset .Params &quot;description&quot;) }}
    {{ index .Params &quot;description&quot; }}
{{ else if (isset .Params &quot;summary&quot;) }}
    {{ index .Params &quot;summary&quot; }}
{{ else }}
    {{ .Summary }}
{{ end }}
</code></pre>

<h3 id="example-6-and-or">Example 6: and &amp; or</h3>

<pre><code>{{ if (and (or (isset .Params &quot;title&quot;) (isset .Params &quot;caption&quot;)) (isset .Params &quot;attr&quot;)) }}

</code></pre>

<p>未完待续</p>

<h2 id="管道符号-pipes"><strong>管道符号（Pipes）</strong></h2>

<p>概念：每个管道（pipe）的输出都成为后续管道的输入</p>

<p>限制：只能使用一个值作为传递参数</p>

<h3 id="example-1-shuffle">Example 1: shuffle</h3>

<pre><code>//两条语句功能一样
{{ shuffle (seq 1 5) }}
{{ (seq 1 5) | shuffle }}
</code></pre>

<h3 id="example-2-index">Example 2: index</h3>

<p>以下访问名为“disqus_url”的页面参数并转义HTML。此示例还使用index函数，(内置在 Go Templates中)：</p>

<pre><code>{{ index .Params &quot;disqus_url&quot; | html }}
</code></pre>

<h3 id="example-3-or-with-isset">Example 3: or with isset</h3>

<pre><code>{{ if or (or (isset .Params &quot;title&quot;) (isset .Params &quot;caption&quot;)) (isset .Params &quot;attr&quot;) }}
Stuff Here
{{ end }}
</code></pre>

<p>改写为</p>

<pre><code>{{ if isset .Params &quot;caption&quot; | or isset .Params &quot;title&quot; | or isset .Params &quot;attr&quot; }}
Stuff Here
{{ end }}
</code></pre>

<h3 id="example-4-internet-explorer-conditional-comments">Example 4: Internet Explorer Conditional Comments</h3>

<p>By default, Go Templates remove HTML comments from output. This has the unfortunate side effect of removing Internet Explorer conditional comments. As a workaround, use something like this:</p>

<p>{{ &ldquo;<!--[if lt IE 9]>" | safeHTML }}
  <script src="html5shiv.js"></script>
{{ "<![endif]-->&rdquo; | safeHTML }}
Alternatively, you can use the backtick (`) to quote the IE conditional comments, avoiding the tedious task of escaping every double quotes (&ldquo;) inside, as demonstrated in the examples in the Go text/template documentation:</p>

<h2 id="if-lt-ie-7-html-class-no-js-lt-ie9-lt-ie8-lt-ie7-endif-safehtml">{{ <code>&lt;!--[if lt IE 7]&gt;&lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt;&lt;![endif]--&gt;</code> | safeHTML }}</h2>

<h2 id="context-aka-the-dot"><strong>Context (aka “the dot”)</strong></h2>

<p>The most easily overlooked concept to understand about Go Templates is that {{ . }} always refers to the current context.</p>

<p>In the top level of your template, this will be the data set made available to it.
Inside of an iteration, however, it will have the value of the current item in the loop; i.e., {{ . }} will no longer refer to the data available to the entire page.
If you need to access page-level data (e.g., page params set in front matter) from within the loop, you will likely want to do one of the following:</p>

<ol>
<li>Define a Variable Independent of Context
The following shows how to define a variable independent of the context.</li>
</ol>

<p>tags-range-with-page-variable.html</p>

<p>{{ $title := .Site.Title }}
<ul>
{{ range .Params.tags }}
    <li>
        <a href="/tags/{{ . | urlize }}">{{ . }}</a>
        - {{ $title }}
    </li>
{{ end }}
</ul>
Notice how once we have entered the loop (i.e. range), the value of {{ . }} has changed. We have defined a variable outside of the loop ({{$title}}) that we’ve assigned a value so that we have access to the value from within the loop as well.</p>

<ol>
<li>Use $. to Access the Global Context
$ has special significance in your templates. $ is set to the starting value of . (“the dot”) by default. This is a documented feature of Go text/template. This means you have access to the global context from anywhere. Here is an equivalent example of the preceding code block but now using $ to grab .Site.Title from the global context:</li>
</ol>

<p>range-through-tags-w-global.html</p>

<ul>
{{ range .Params.tags }}
  <li>
    <a href="/tags/{{ . | urlize }}">{{ . }}</a>
            - {{ $.Site.Title }}
  </li>
{{ end }}
</ul>
The built-in magic of $ would cease to work if someone were to mischievously redefine the special character; e.g. {{ $ := .Site }}. Don’t do it. You may, of course, recover from this mischief by using {{ $ := . }} in a global context to reset $ to its default value.

## **Whitespace**

Go 1.6 includes the ability to trim the whitespace from either side of a Go tag by including a hyphen (-) and space immediately beside the corresponding {{ or }} delimiter.

For instance, the following Go Template will include the newlines and horizontal tab in its HTML output:

<div>
  {{ .Title }}
</div>
Which will output:

<div>
  Hello, World!
</div>
Leveraging the - in the following example will remove the extra white space surrounding the .Title variable and remove the newline:

<div>
  {{- .Title -}}
</div>
Which then outputs:

<div>Hello, World!</div>
Go considers the following characters whitespace:

space
horizontal tab
carriage return
newline

## **Comments**
In order to keep your templates organized and share information throughout your team, you may want to add comments to your templates. There are two ways to do that with Hugo.

Go Templates comments 
Go Templates support {{/* and */}} to open and close a comment block. Nothing within that block will be rendered.

For example:

Bonsoir, {{/* {{ add 0 + 2 }} */}}Eliott.
Will render Bonsoir, Eliott., and not care about the syntax error (add 0 + 2) in the comment block.

HTML comments 
If you need to produce HTML comments from your templates, take a look at the Internet Explorer conditional comments example. If you need variables to construct such HTML comments, just pipe printf to safeHTML. For example:

{{ printf "<!-- Our website is named: %s -->" .Site.Title | safeHTML }}
HTML comments containing Go Templates 
HTML comments are by default stripped, but their content is still evaluated. That means that although the HTML comment will never render any content to the final HTML pages, code contained within the comment may fail the build process.

Do not try to comment out Go Template code using HTML comments.

<!-- {{ $author := "Emma Goldman" }} was a great woman. -->
{{ $author }}
The templating engine will strip the content within the HTML comment, but will first evaluate any Go Template code if present within. So the above example will render Emma Goldman, as the $author variable got evaluated in the HTML comment. But the build would have failed if that code in the HTML comment had an error.





## **Hugo Parameters**


Hugo provides the option of passing values to your template layer through your site configuration (i.e. for site-wide values) or through the metadata of each specific piece of content (i.e. the front matter). You can define any values of any type and use them however you want in your templates, as long as the values are supported by the front matter format specified via metaDataFormat in your configuration file.

Use Content (Page) Parameters 
You can provide variables to be used by templates in individual content’s front matter.

An example of this is used in the Hugo docs. Most of the pages benefit from having the table of contents provided, but sometimes the table of contents doesn’t make a lot of sense. We’ve defined a notoc variable in our front matter that will prevent a table of contents from rendering when specifically set to true.

Here is the example front matter (YAML):

---
title: Roadmap
lastmod: 2017-03-05
date: 2013-11-18
notoc: true
---
Here is an example of corresponding code that could be used inside a toc.html partial template:

layouts/partials/toc.html

{{ if not .Params.notoc }}
<aside>
  <header>
    <a href="#{{.Title | urlize}}">
    <h3>{{.Title}}</h3>
    </a>
  </header>
  {{.TableOfContents}}
</aside>
<a href="#" id="toc-toggle"></a>
{{ end }}
We want the default behavior to be for pages to include a TOC unless otherwise specified. This template checks to make sure that the notoc: field in this page’s front matter is not true.


Use Site Configuration Parameters
You can arbitrarily define as many site-level parameters as you want in your site’s configuration file. These parameters are globally available in your templates.

For instance, you might declare the following:

config.
yaml
  toml
  json
 
[params]
  copyrighthtml = "Copyright &#xA9; 2017 John Doe. All Rights Reserved."
  sidebarrecentlimit = 5
  twitteruser = "spf13"

Within a footer layout, you might then declare a <footer> that is only rendered if the copyrighthtml parameter is provided. If it is provided, you will then need to declare the string is safe to use via the safeHTML function so that the HTML entity is not escaped again. This would let you easily update just your top-level config file each January 1st, instead of hunting through your templates.

{{ if .Site.Params.copyrighthtml }}
    <footer>
        <div class="text-center">{{.Site.Params.CopyrightHTML | safeHTML}}</div>
    </footer>
{{ end }}
An alternative way of writing the “if” and then referencing the same value is to use with instead. with rebinds the context (.) within its scope and skips the block if the variable is absent:

layouts/partials/twitter.html

{{ with .Site.Params.twitteruser }}
    <div>
        <a href="https://twitter.com/{{.}}" rel="author">
        <img src="/images/twitter.png" width="48" height="48" title="Twitter: {{.}}" alt="Twitter"></a>
    </div>
{{ end }}
Finally, you can pull “magic constants” out of your layouts as well. The following uses the first function, as well as the .RelPermalink page variable and the .Site.Pages site variable.

<nav>
  <h1>Recent Posts</h1>
  <ul>
  {{- range first .Site.Params.SidebarRecentLimit .Site.Pages -}}
      <li><a href="{{.RelPermalink}}">{{.Title}}</a></li>
  {{- end -}}
  </ul>
</nav>


Example: Show Only Upcoming Events 
Go allows you to do more than what’s shown here. Using Hugo’s where function and Go built-ins, we can list only the items from content/events/ whose date (set in a content file’s front matter) is in the future. The following is an example partial template:

layouts/partials/upcoming-events.html

<h4>Upcoming Events</h4>
<ul class="upcoming-events">
{{ range where .Pages.ByDate "Section" "events" }}
    {{ if ge .Date.Unix now.Unix }}
        <li>
        <!-- add span for event type -->
          <span>{{ .Type | title }} —</span>
          {{ .Title }} on
        <!-- add span for event date -->
          <span>{{ .Date.Format "2 January at 3:04pm" }}</span>
          at {{ .Params.place }}
        </li>
    {{ end }}
{{ end }}
</ul>

<p><strong><a href="https://gohugo.io/templates/introduction/#basic-syntax" target="_blank">https://gohugo.io/templates/introduction/#basic-syntax</a></strong></p>

    </div>

    


<div class="article-tags">
  
  <a class="label label-default" href="panfeng0119.github.io/tags/hugo/">Hugo</a>
  
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="panfeng0119.github.io/post/hugo01/">Hugo 01 | Documentation</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<footer class="site-footer">
  <div class="container">

    

    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by 
      <a href="https://github.com/panfeng0119" target="_blank" rel="noopener">Pan Feng</a> 
      , the theme is 
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fas fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        CommonHTML: { linebreaks: { automatic: true } },
        tex2jax: { inlineMath: [ ['$', '$'], ['\\(','\\)'] ], displayMath: [ ['$$','$$'], ['\\[', '\\]'] ], processEscapes: false },
        TeX: { noUndefined: { attributes: { mathcolor: 'red', mathbackground: '#FFEEEE', mathsize: '90%' } } },
        messageStyle: 'none'
      });
    </script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    <script src="/panfeng0119.github.io/js/hugo-academic.js"></script>
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/panfeng0119.github.io/index.json";
      const i18n = {
        'placeholder': "Search...",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    <script src="/panfeng0119.github.io/js/search.js"></script>
    

    
    

  </body>
</html>

